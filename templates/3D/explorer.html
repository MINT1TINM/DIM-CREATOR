<html>
    <head>
    <title>DIM CREATOR</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <script src="/static/back/vendors/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/static/back/js/app.min.js"></script>

    <link href="/static/back/vendors/bower_components/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="/static/back/vendors/bower_components/sweetalert2/dist/sweetalert2.min.js"></script>
    
    <link href="/static/back/vendors/bower_components/animate.css/animate.min.css" rel="stylesheet">
    
    <link href="/static/back/css/app.css" rel="stylesheet">
    <link href="/static/back/vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css" rel="stylesheet">

    <script src="../static/3D/viewer.js"></script>
    <link rel="shortcut icon" type="image/png" href="/static/favicon.ico"/>
    <script src="../static/back/js/page-loader.js" ></script> 
    <style>

            .container-ex {
                width:100%;
                padding-left:15px;
                padding-right:15px;
            }

            babylon {
                width: 100%;
                height: 100%;
            }


    
    </style>
    </head>
    <body style="height: 100%">

        <babylon templates.loading-screen.location="#loading-screen" templates.loading-screen.html="" model="/static/1.babylon"></babylon>
        <script language="Javascript">
            document.oncontextmenu = function(){return false;}
        </script>
        <script id="loading-screen" type="text/x-babylon-viewer-template">
            <style>
              loading-screen {
                  position: absolute;
                  z-index: 100;
                  opacity: 1;
                  pointer-events: none;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  -webkit-transition: opacity 2s ease;
                  -moz-transition: opacity 2s ease;
                  transition: opacity 2s ease;
              }
            </style>
      
            <!-- Page Loader -->
            <div id="page-loader">
                    <div class="preloader preloader--xl preloader--light">
                        <svg viewBox="25 25 50 50">
                            <circle cx="50" cy="50" r="20" />
                        </svg>
                    </div>
                </div>
          </script>
        
       <!-- <div class="loader" id="loader" style="height:100%;width:100%;background-color:beige"><p id="progress"></p></div> -->

        <nav class="navbar navbar-explorer navbar-fixed-bottom">
            <div class="container-ex">
                <button class="btn btn-default btn--icon hidden-xs" data-mae-action="fullscreen" ><i class="zmdi zmdi-fullscreen"></i></button>
                <button class="btn btn-default btn--icon" onclick="reset()" ><i class="zmdi zmdi-refresh"></i></button>
                <button class="btn btn-default btn--icon" onclick="tutorial();" ><i class="zmdi zmdi-help-outline"></i></button>
                <button class="btn btn-default btn--icon pull-right" onclick="share()" ><i class="zmdi zmdi-share"></i></button>
            </div>
        </nav> 


        

        <script>
            function tutorial(){
                swal({
                    showCloseButton: true,
                    showCancelButton: false,
                    showConfirmButton: false,
                    title: '操作指南',
                    html:
                        '<div class="col-xs-6" style="margin-bottom: 30px;"><i class="zmdi zmdi-3d-rotation" style="font-size: 50px"></i></br>  <h4 style="color:#595959">环游</h4>鼠标左键  单指触摸</div>'+
                        '<div class="col-xs-6" style="margin-bottom: 30px;"><i class="zmdi zmdi-zoom-in" style="font-size: 50px"></i></br>  <h4 style="color:#595959">缩放</h4>鼠标滚轮  双指触摸</div>'+
                        '<div class="col-xs-6" style="margin-bottom: 30px;"><i class="zmdi zmdi-arrows" style="font-size: 50px"></i></br>  <h4 style="color:#595959">平移</h4> 鼠标中键  三指触摸</div>',                        
                });
            };
            function share(){
                swal({
                    showCloseButton: true,
                    title: "分享",
                    html:                        
                    '<div class="col-xs-12" style="margin-bottom: 10px;"><img src="../media/Warehouse/{{workid}}/qrcode.jpg" style="height: 200px;"></img></br>',
                    confirmButtonText: "保存二维码"
                }).then(function(){
                    
                        download('../media/Warehouse/{{workid}}/qrcode.jpg', 'qrcode'),
                        "success"
                    
                });
            };
            function download(href, title) {
                const a = document.createElement('a');
                a.setAttribute('href', href);
                a.setAttribute('download', title);
                a.click();
            }
        </script>












    </body>
</html>