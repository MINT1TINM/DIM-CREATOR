{% extends 'master.html' %}

{% block content %}
<header class="content__header">
    <h1>今日</h1>
</header>
<div id="content__grid" data-columns>


    <div class="card widget-past-days">

        <div class="card__header">
            <h2>概览<small>数据汇总</small></h2>

        </div>        
        

        <div class="list-group list-group--striped">
            <div class="list-group-item">
                <div class="widget-past-days__chart hidden-sm">
                    <div class="chart-sparkline-bar">6,9,5,6,3,7,5,4,6,5,6,4,2,5,8,2,6,9</div>
                </div>

                <div class="widget-past-days__info">
                    <h5>项目访问量</h5>
                    <h3>{{viewcal}}</h3>
                </div>
            </div>

            <div class="list-group-item">
                <div class="widget-past-days__chart hidden-sm">
                    <div class="chart-sparkline-bar">5,7,2,5,2,8,6,7,6,5,3,1,9,3,5,8,2,4</div>
                </div>

                <div class="widget-past-days__info">
                    <h5>点赞数</h5>
                    <h3>{{likecal}}</h3>
                </div>
            </div>

            <div class="list-group-item">
                <div class="widget-past-days__chart hidden-sm">
                    <div class="chart-sparkline-bar">5,7,2,5,2,8,6,7,6,5,3,1,9,3,5,8,2,4</div>
                </div>

                <div class="widget-past-days__info">
                    <h5>分享数</h5>
                    <h3>{{sharecal}}</h3>
                </div>
            </div>

            <div class="list-group-item">
                <div class="widget-past-days__chart hidden-sm">
                    <div class="chart-sparkline-bar">3,9,1,3,5,6,7,6,8,2,5,2,7,5,6,7,6,8</div>
                </div>

                <div class="widget-past-days__info">
                    <h5>新增关注人数</h5>
                    <h3>198</h3>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
            <div class="card__header">
                <h2>项目排行 <small>看看哪些最受大家欢迎</small></h2>
            </div>

            <div class="list-group">
                {% for item in most_view_ware %}
                <a href="/Dashboard/ware.html?workid={{item.workid}}" class="list-group-item media">
                    <div class="pull-left">
                        <img class="avatar-img" src="../media/Warehouse/{{item.workid}}/jpg.jpg" alt="">
                    </div>

                    <div class="media-body">
                        <div class="list-group__heading">{{item.title}}</div>
                        <div class="list-group__text">于{{item.opendate}}创建</div>
                    </div>
                </a>
                {% endfor %}

                <a href="/Dashboard/warehouse.html" class="view-more">
                    <i class="zmdi zmdi-long-arrow-right"></i> 去仓库看看
                </a>
            </div>
    </div>


</div>



<!-- Main Flot library -->
<script src="../static/back/vendors/bower_components/flot/jquery.flot.js"></script>

<!-- Responsive charts -->
<script src="../static/back/vendors/bower_components/flot/jquery.flot.resize.js"></script>

<!-- tooltips -->
<script src="../static/back/vendors/bower_components/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
        <!-- Salvattore -->
<script src="../static/back/vendors/bower_components/salvattore/dist/salvattore.min.js"></script>
        
        
                <!-- Sparkline Charts -->
<script src="../static/back/vendors/jquery.sparkline/jquery.sparkline.min.js"></script>
        

<script>
    $(document).ready(function () {
        // Function for Sparkline Line Chart
        function sparklineLine(id, width, height, lineColor, fillColor, lineWidth, maxSpotColor, minSpotColor, spotColor, spotRadius, hSpotColor, hLineColor) {
            $('.'+id).sparkline('html', {
                type: 'line',
                width: width,
                height: height,
                lineColor: lineColor,
                fillColor: fillColor,
                lineWidth: lineWidth,
                maxSpotColor: maxSpotColor,
                minSpotColor: minSpotColor,
                spotColor: spotColor,
                spotRadius: spotRadius,
                highlightSpotColor: hSpotColor,
                highlightLineColor: hLineColor
            });
        }
    
        // Function for Sparkline Bar Chart
        function sparklineBar(id, height, barWidth, barColor, barSpacing) {
            $('.'+id).sparkline('html', {
                type: 'bar',
                height: height,
                barWidth: barWidth,
                barColor: barColor,
                barSpacing: barSpacing
            })
        }
    

        //Past 7 days (Sparkline Bar Chart)
        if ($('.chart-sparkline-bar')[0]) {
            sparklineBar('chart-sparkline-bar', 60, 5, '#b4bfc3', 2);
        }
    
    
    });
</script>
        
{% endblock %}